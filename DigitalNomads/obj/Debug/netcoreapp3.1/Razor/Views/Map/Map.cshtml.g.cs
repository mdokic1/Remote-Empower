#pragma checksum "C:\Users\Korisnik\Source\Repos\CtrlAltDefeat-3\DigitalNomads\Views\Map\Map.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "559e118e68c04eef2ef57281bb65adde172fd1b6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Map_Map), @"mvc.1.0.view", @"/Views/Map/Map.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Korisnik\Source\Repos\CtrlAltDefeat-3\DigitalNomads\Views\_ViewImports.cshtml"
using DigitalNomads;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Korisnik\Source\Repos\CtrlAltDefeat-3\DigitalNomads\Views\_ViewImports.cshtml"
using DigitalNomads.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"559e118e68c04eef2ef57281bb65adde172fd1b6", @"/Views/Map/Map.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"3c0834fe50ca908c52f16bd5fb96c153860deec5", @"/Views/_ViewImports.cshtml")]
    public class Views_Map_Map : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "Map", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "559e118e68c04eef2ef57281bb65adde172fd1b64061", async() => {
                WriteLiteral(@"
    <link rel=""stylesheet"" href=""https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"" integrity=""sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"" crossorigin=""anonymous"">
    <style>
        /* Set the size of the div element that contains the map */
        #map {
            height: 800px;
            width: 100%;
        }

        .container-fluid {
            position: relative;
        }

        #btnRoute {
            position: absolute;
            top: 120px;
            right: 25px;
            width: 100px;
            height: 100px;
        }

        #btnClearRoute {
            position: absolute;
            top: 350px;
            right: 25px;
            width: 100px;
            height: 100px;
        }

        #btnUlazak {
            position: absolute;
            top: 235px;
            right: 25px;
            width: 100px;
            height: 100px;
            font-family: FontAwesome;
            fon");
                WriteLiteral("t-size: 25px;\r\n        }\r\n    </style>\r\n    <script src=\"https://kit.fontawesome.com/3874a11e93.js\" crossorigin=\"anonymous\"></script>\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "559e118e68c04eef2ef57281bb65adde172fd1b66238", async() => {
                WriteLiteral(@"

    <div class=""row"">
        <div class=""col-md-12"">
            <div id=""map""></div>
            <button id=""btnRoute"" type=""button"" class=""btn btn-secondary btn-lg"" onclick=""calculateAndShowRoute()"">
                <i class=""fas fa-route fa-2x""></i>
            </button>
            <!--Hidden fileds so I can send data-->
            ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "559e118e68c04eef2ef57281bb65adde172fd1b66860", async() => {
                    WriteLiteral("\r\n                <div class=\"form-group\">\r\n                    <input id=\"lat\" name=\"lat\" type=\"hidden\"");
                    BeginWriteAttribute("value", " value=\"", 1672, "\"", 1680, 0);
                    EndWriteAttribute();
                    WriteLiteral(" />\r\n                    <input id=\"lon\" name=\"lon\" type=\"hidden\"");
                    BeginWriteAttribute("value", " value=\"", 1746, "\"", 1754, 0);
                    EndWriteAttribute();
                    WriteLiteral(" />\r\n                </div>\r\n            ");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Action = (string)__tagHelperAttribute_0.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
                __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_1.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
            <button id=""btnClearRoute"" type=""button"" class=""btn btn-danger btn-lg"" onclick=""removeRoute()"">
                <i class=""fas fa-trash-alt fa-2x""></i>
            </button>
        </div>
    </div>

    <script>
            var locations = ");
#nullable restore
#line 64 "C:\Users\Korisnik\Source\Repos\CtrlAltDefeat-3\DigitalNomads\Views\Map\Map.cshtml"
                       Write(Html.Raw(ViewBag.Markeri));

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
            var odredisniLat, odredisniLon;
            var map;
            // Initialize and add the map
            function initMap() {
               // The location of Sarajevo
                var sarajevo = { lat: 43.8563, lng: 18.4131 };
                // The map, centered at Sarajevo
                map = new google.maps.Map(
                    document.getElementById('map'), { zoom: 15, center: sarajevo });

                var parkingIcon =
                    'https://maps.google.com/mapfiles/kml/shapes/parking_lot_maps.png';

                var infoObj = [];
                for (var i = 0; i < locations.length; i++) {
                    var contentString = '<h3>' + 'Naziv: ' + locations[i].name + '</h3> ' +
                        '<h3>' + 'Adresa: ' + locations[i].address + '</h3> ' +
                        '<h3>' + 'Radno vrijeme: ' + locations[i].begin + 'h -' + locations[i].end + 'h' + '</h3> ';

                    var myLatLng = new google.maps.LatLng(locations[i]");
                WriteLiteral(@".lat, locations[i].long);
                    const marker = new google.maps.Marker({
                        position: myLatLng,
                        icon: parkingIcon,
                        map: map
                    });
                    const infoWindow = new google.maps.InfoWindow({
                        content: contentString
                    });
                    marker.addListener('click', function () {
                        //zatvaranje starog info prozora
                        if (infoObj.length > 0) {
                            infoObj[i].set(""marker"", null);
                            infoObj[i].close();
                            infoObj[i].length = 0;
                        }
                        infoWindow.open(marker.get('map'), marker);
                        infoObj[i] = infoWindow;
                    });

                }

        }

        function calculateAndShowRoute() {
                locations = ");
#nullable restore
#line 109 "C:\Users\Korisnik\Source\Repos\CtrlAltDefeat-3\DigitalNomads\Views\Map\Map.cshtml"
                       Write(Html.Raw(ViewBag.Markeri));

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
                var positionOptions = {
                    enableHighAccuracy: true,
                    maximumAge: 500
                };
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function (position) {
                        window.directionsService = new google.maps.DirectionsService();
                        window.directionsDisplay = new google.maps.DirectionsRenderer();

                        var najbliziLat, najbliziLong, request;

                            najbliziLat = locations[0].lat;
                            najbliziLong = locations[0].long;

                            var minDistance = distanceBetween(position.coords.latitude, position.coords.longitude, najbliziLat, najbliziLong);
                            for (var i = 1; i < locations.length; i++) {
                                var nthMinDistance = distanceBetween(position.coords.latitude, position.coords.longitude, locations[i].lat, locations[i].l");
                WriteLiteral(@"ong);
                                if (nthMinDistance < minDistance) {
                                    minDistance = nthMinDistance;
                                    najbliziLat = locations[i].lat;
                                    najbliziLong = locations[i].long;

                                }
                            }

                                request = {
                                    origin: new google.maps.LatLng(position.coords.latitude, position.coords.longitude),
                                    destination: new google.maps.LatLng(najbliziLat, najbliziLong),
                                    travelMode: 'DRIVING'
                                }
                                odredisniLat = najbliziLat;
                                odredisniLon = najbliziLong;

                        document.getElementById(""lat"").value = odredisniLat;
                        document.getElementById(""lon"").value = odredisniLon;

                        di");
                WriteLiteral(@"rectionsDisplay.setMap(map);
                        directionsService.route(request, (result, status) => {
                            if (status == 'OK') {
                                directionsDisplay.setDirections(result);
                            }
                        });

                    });
                }

            }

            function removeRoute() {
                window.directionsDisplay.setDirections({ routes: [] });

            }

            function distanceBetween(lat1, lon1, lat2, lon2) {
                const R = 6371e3;
                const fi1 = lat1 * Math.PI / 180;
                const fi2 = lat2 * Math.PI / 180;
                const deltaFi = (lat2 - lat1) * Math.PI / 180;
                const deltaLambda = (lon2 - lon1) * Math.PI / 180;
                const x = deltaLambda * Math.cos((fi1 + fi2) / 2);
                const y = deltaFi;
                return Math.sqrt(x * x + y * y) * R;
            }

    </script>


    <sc");
                WriteLiteral(@"ript type=""text/javascript"" src=""https://code.jquery.com/jquery-1.10.2.js""></script>

    <script async defer
            src=""https://maps.googleapis.com/maps/api/js?key=AIzaSyBd7K5-Z6imkbJEje_G9aPqEL65uUiOFfc&callback=initMap"">
    </script>


    <script src=""https://unpkg.com/sweetalert/dist/sweetalert.min.js""></script>
    <script src=""https://code.jquery.com/jquery-3.5.1.slim.min.js"" integrity=""sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"" crossorigin=""anonymous""></script>
    <script src=""https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"" integrity=""sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"" crossorigin=""anonymous""></script>
    <script src=""https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"" integrity=""sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"" crossorigin=""anonymous""></script>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
